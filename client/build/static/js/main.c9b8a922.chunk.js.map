{"version":3,"sources":["services/auth.js","components/Navbar.js","components/events/EventOverview.js","components/events/MyEvents.js","components/posts/AddPost.js","components/posts/PostList.js","components/posts/Newsfeed.js","components/events/EventsGoing.js","components/events/NextEvents.js","components/Home.js","services/upload-img.js","components/events/EventPic.js","services/general-functions.js","components/events/AddEvent.js","components/events/Guestlist.js","components/events/CommentList.js","components/events/AddComment.js","components/events/Comments.js","components/events/EventDetails.js","services/distance.js","components/SearchResult.js","components/MessengerNav.js","components/ChatArea.js","components/Messenger.js","components/Signup.js","components/Login.js","components/profiles/AboutMe.js","components/profiles/ProfilePic.js","components/profiles/OfferService.js","components/profiles/OfferStuff.js","components/profiles/ReferenceCard.js","components/profiles/Reference.js","components/profiles/ProfileDetails.js","components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["signup","username","password","street","houseNumber","city","postalCode","axios","post","then","response","data","catch","err","login","Navbar","props","className","to","id","onClick","handleChangeNav","showNewsfeed","showMyEvents","showEventsGoing","showNextEvents","user","Form","onSubmit","event","handleQuery","history","name","onChange","handleChange","value","selectInputfield","type","placeholder","searchInputfield","Button","variant","Fragment","delete","clearUser","EventOverview","numOfPplGoingDisplay","hostInfo","creater","join","length","pastEvent","Container","key","_id","Row","Col","xs","md","src","imageUrl","width","alt","date","slice","time","address","formattedAddress","height","MyEvents","useState","myPastCreatedEvents","setMyPastCreatedEvents","myFutureCreatedEvents","setMyFutureCreatedEvents","useEffect","getMyEvent","get","params","loggedInUserCoordinates","console","log","myEvents","map","index","pastEvents","AddPost","state","description","handleFormSubmit","e","preventDefault","trim","coordinates","getAllPosts","setState","target","this","Group","Control","as","rows","Component","PostList","postList","allPosts","formattedDate","Date","getDate","month","0","1","2","3","4","5","6","7","8","9","10","11","getMonth","widht","res","split","item","Newsfeed","EventsGoing","myJoinedEvents","setMyJoinedEvents","getMyJoinedEvents","eventsGoing","NextEvents","upComingEvents","setUpComingEvents","getUpComingEvents","nextEvents","Home","getAllUser","getMsg","userChatMsg","chatNeighborId","chatMsg","lastMsg","sender","reciever","sm","style","textAlign","handleUpload","theFile","EventPic","handleFileUpload","getFormattedDate","queryDate","dd","String","padStart","mm","yyyy","getFullYear","AddEvent","photoMessage","inputWarning","eventDate","eventTimeArr","hh","Number","setHours","errMessage","push","chosenFile","files","size","indexOf","uploadData","FormData","append","uploadOn","secure_url","lg","Label","htmlFor","required","min","Guestlist","userJoins","handleClick","put","getSingleEvent","componentDidMount","joinedUsers","filter","el","isHost","isFutureEvent","CommentList","commentList","comments","sort","a","b","comment","author","commentId","content","AddComment","eventId","Comments","EventDetails","editForm","dateForForm","timeForForm","match","responseFromApi","originalImage","deleteEvent","toggleEdit","dateFromDatabase","timeFromDatabase","futureEventCheck","isSameUser","allUsers","distance","coordinates1","coordinates2","dx","lng","dy","lat","Math","sqrt","toFixed","SearchResult","neighbor","loggedInUserLocation","otherUserLocation","sortedNeighbor","distanceA","distanceB","searchWord","searchInput","select","offerService","toLowerCase","includes","offerStuff","displayService","displayOfferStuff","neighborCards","eachDistance","textDecoration","color","credits","margin","MessengerNav","navInfo","nameOrder","forEach","neighborId","msg","timeStamp","createdAt","monthEng","12","nameOrderUnique","Set","reverse","navDisplay","Array","from","monthNum","lastMessage","exact","activeClassName","hidePanelArea","ChatArea","chatAreaMsg","chatAreaDisplay","message","neighborName","neighborPic","selectedUser","backgroundColor","justifyContent","alignItems","window","innerWidth","innerHeight","hideChatArea","handleChatInputSubmit","chatInput","Messenger","panelArea","current","display","chatArea","React","createRef","showChatArea","setChatArea","fluid","ref","Signup","error","handleSubmit","isValidUserName","test","setUser","Alert","Login","AboutMe","sameUser","showAboutMeForm","toggleForm","updateAboutMe","aboutMe","cancelEditAboutMe","ProfilePic","canUpdateImg","handleSubmitFile","handleFileChange","OfferService","services","showOfferServiceForm","deleteService","listStyleType","handleSubmitOfferService","serviceInput","OfferStuff","stuff","showOfferStuffForm","deleteStuff","handleSubmitOfferStuff","stuffInput","ReferenceCard","reference","stars","repeat","rating","fontStyle","fontSize","Reference","createdRef","showReferenceForm","authorCredits","showNotEnoughCredit","showNeedtoWriteSth","addReference","showReferenceAlert","domEl","profileOwner","step","handleCreditChange","creditInput","count","handleRatingChange","half","color2","handleRefChange","referenceInput","cancelEditReference","ProfileDetails","following","showAddressForm","showDeleteAlert","addressInvalidMsg","originalImgUrl","getData","status","obj","updateAddress","cancelEditAddress","deleteItem","parseInt","recievedCredit","submitReference","authorData","profileOwnerData","deleteAccount","toggleDelAlertFunction","prevProps","Footer","rel","href","endpoint","process","PORT","socket","socketIOClient","App","recieverAction","setValue","object","recieverId","send","on","render","routerProps","path","setRecieverAction","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c9b8a922.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst signup = (username, password, street, houseNumber, city, postalCode) => {\n  return axios\n    .post(\"/api/auth/signup\", {\n      username: username,\n      password: password,\n      street: street,\n      houseNumber: houseNumber,\n      city: city,\n      postalCode: postalCode\n    })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    });\n};\n\nconst login = (username, password) => {\n  return axios\n    .post(\"/api/auth/login\", {\n      username: username,\n      password: password\n    })\n    .then(response => {\n      return response.data;\n    })\n    .catch(err => {\n      return err.response.data;\n    });\n};\n\nconst logout = () => {\n  axios.delete(\"/api/auth/logout\");\n};\n\nexport { signup, login, logout };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { logout } from \"../services/auth\";\nimport { Button, Form } from \"react-bootstrap\";\n\nconst Navbar = props => {\n  const handleLogout = () => {\n    // destroys the session on the server\n    logout();\n    // updates the `user` state in App\n    props.clearUser(null);\n\n    props.handleChangeNav({\n      showNewsfeed: true,\n      showMyEvents: false,\n      showEventsGoing: false,\n      showNextEvents: false\n    });\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light nav-menu py-1\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        <button\n          id=\"logo-button\"\n          onClick={() =>\n            props.handleChangeNav({\n              showNewsfeed: true,\n              showMyEvents: false,\n              showEventsGoing: false,\n              showNextEvents: false\n            })\n          }\n        >\n          KieZ\n        </button>\n      </Link>\n\n      {props.user ? (\n        <div className=\"searchRow\">\n          <Form\n            className=\"input-group btn-group\"\n            onSubmit={event => props.handleQuery(event, props.history)}\n          >\n            <select\n              className=\"custom-select\"\n              name=\"selectInputfield\"\n              onChange={props.handleChange}\n              value={props.selectInputfield}\n            >\n              <option value=\"\">Select Option</option>\n              <option value=\"Neighbors\">Find by Username</option>\n              <option value=\"Help\">Find by Lend-item / Help</option>\n            </select>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"searchInputfield\"\n              placeholder=\"Find your Neighbors here\"\n              onChange={props.handleChange}\n              value={props.searchInputfield}\n            />\n\n            <div className=\"btn-group\">\n              <Button variant=\"outline-secondary\" type=\"submit\">\n                Search\n              </Button>\n            </div>\n          </Form>\n        </div>\n      ) : (\n        <React.Fragment />\n      )}\n\n      <div className=\"py-1\">\n        {props.user ? (\n          <>\n            <Link\n              className=\"btn btn-outline-success\"\n              to={`/${props.user.username}`}\n            >\n              {props.user.username}\n            </Link>\n            <Link className=\"btn btn-outline-info mx-3\" to=\"/events/create\">\n              Create Event\n            </Link>\n            <Link\n              to=\"/\"\n              onClick={handleLogout}\n              className=\"btn btn-outline-danger\"\n            >\n              Logout\n            </Link>\n          </>\n        ) : (\n          <React.Fragment>\n            <Link className=\"btn btn-outline-info mr-3\" to=\"/signup\">\n              Signup\n            </Link>\n            <Link className=\"btn btn-outline-info\" to=\"/login\">\n              Login\n            </Link>\n          </React.Fragment>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nconst EventOverview = props => {\n  let numOfPplGoingDisplay = \"\";\n  let hostInfo = `Hosted by ${props.event.creater.username} `;\n\n  if (props.event.join.length === 1) {\n    numOfPplGoingDisplay = `\\u2022 ${props.event.join.length} person is going \\u2022`;\n  }\n  if (props.event.join.length > 1) {\n    numOfPplGoingDisplay = `\\u2022 ${props.event.join.length} people are going \\u2022`;\n  }\n\n  if (props.pastEvent && props.event.join.length >= 1) {\n    numOfPplGoingDisplay = `\\u2022 ${props.event.join.length} person joined \\u2022`;\n  }\n\n  let eventOverview = (\n    <Container key={props.event._id} className=\"mb-3\">\n      <Link to={`/events/${props.event._id}`} className=\"event-overview-text\">\n        <Row>\n          <Col xs={12} md={5} className=\"px-0 px-md-2\">\n            <img\n              src={props.event.imageUrl}\n              className=\"overview-event-img\"\n              width=\"90%\"\n              alt={props.event.name}\n            />\n          </Col>\n          <Col xs={12} md={7} className=\"px-0 px-md-2\">\n            <h2 className=\"event-overview-heading h2-heading\">\n              {props.event.name}\n            </h2>\n            <div className=\"date\">\n              <h5 className=\"sub-heading\">\n                {props.event.date.slice(0, 10)} at{\" \"}\n                {props.event.time.slice(0, 5)}\n              </h5>\n              <h5 className=\"sub-heading\">\n                {props.event.address.formattedAddress}\n              </h5>\n            </div>\n\n            <h5 className=\"overview-host-info\">\n              <img\n                src={props.event.creater.imageUrl}\n                width=\"30\"\n                height=\"30\"\n                className=\"user-pic mx-1\"\n                alt={props.event.creater.username}\n              />\n              {hostInfo}\n              {numOfPplGoingDisplay}\n            </h5>\n          </Col>\n        </Row>\n      </Link>\n    </Container>\n  );\n\n  return eventOverview;\n};\n\nexport default EventOverview;\n","import React, { useState, useEffect } from \"react\";\nimport EventOverview from \"./EventOverview\";\nimport axios from \"axios\";\n\nconst MyEvents = (props) => {\n  const [myPastCreatedEvents, setMyPastCreatedEvents] = useState([]);\n  const [myFutureCreatedEvents, setMyFutureCreatedEvents] = useState([]);\n\n  useEffect(() => {\n    getMyEvent(\"myPastEvents\");\n    getMyEvent(\"myFutureEvents\");\n  }, []);\n\n  const getMyEvent = (type) => {\n    axios\n      .get(\"/api/events/myevents\", {\n        params: {\n          type,\n          loggedInUserCoordinates: {},\n        },\n      })\n      .then((response) => {\n        if (type === \"myPastEvents\") {\n          setMyPastCreatedEvents(response.data);\n        } else if (type === \"myFutureEvents\") {\n          setMyFutureCreatedEvents(response.data);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  let myEvents = (\n    <div>\n      <h1 className=\"h1-heading\">My Created Events</h1>\n      <h3 className=\"event-list-h3\">Upcoming Events: </h3>\n      {myFutureCreatedEvents.map((event, index) => {\n        return <EventOverview key={index} event={event} />;\n      })}\n    </div>\n  );\n\n  let pastEvents = (\n    <div>\n      <h3 className=\"event-list-h3\">Past Events: </h3>\n      {myPastCreatedEvents.map((event, index) => {\n        let pastEvent = true;\n        return (\n          <EventOverview key={index} pastEvent={pastEvent} event={event} />\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div>\n      {myEvents} {pastEvents}\n    </div>\n  );\n};\n\nexport default MyEvents;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\n\nclass AddPost extends Component {\n  state = {\n    description: \"\",\n    imageUrl: \"\", //for future, if we want to add image to post\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    const description = this.state.description;\n\n    if (description.trim() === \"\") {\n      return;\n    }\n\n    axios\n      .post(\"/api/events\", {\n        description,\n        type: \"post\",\n        street: this.props.user.address.street,\n        houseNumber: this.props.user.address.houseNumber,\n        city: this.props.user.address.city,\n        postalCode: this.props.user.address.postalCode,\n        coordinates: this.props.user.address.coordinates,\n        formattedAddress: this.props.user.address.formattedAddress,\n        imageUrl:\n          \"https://res.cloudinary.com/dqrjpg3xc/image/upload/v1575651991/kiez/default-event-img.jpg.jpg\",\n      })\n      .then(this.props.getAllPosts)\n      .then(this.setState({ description: \"\" }))\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleChange = (e) => {\n    const description = e.target.value;\n    this.setState({\n      description: description,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"post-form\">\n        <Form onSubmit={this.handleFormSubmit}>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              as=\"textarea\"\n              rows=\"3\"\n              name=\"description\"\n              onChange={this.handleChange}\n              value={this.state.description}\n              placeholder=\"What do you want to tell to your neighbors?\"\n            />\n          </Form.Group>\n          <div className=\"flex-end-btn\">\n            <Button type=\"submit\">Post</Button>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default AddPost;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst PostList = (props) => {\n  let postList = (\n    <>\n      {props.allPosts.map((post) => {\n        let monthEng = {\n          0: \"Jan\",\n          1: \"Feb\",\n          2: \"Mar\",\n          3: \"Apr\",\n          4: \"May\",\n          5: \"Jun\",\n          6: \"Jul\",\n          7: \"Aug\",\n          8: \"Sep\",\n          9: \"Oct\",\n          10: \"Nov\",\n          11: \"Dec\",\n        };\n        let formattedDate = new Date(post.date);\n        let date = formattedDate.getDate();\n        let monthNum = formattedDate.getMonth();\n        let month = monthEng[monthNum];\n\n        let deletePost = (id) => {\n          axios\n            .delete(`/api/events/${id}`)\n            .then((res) => {\n              props.getAllPosts();\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        };\n\n        return (\n          <div key={post._id} className=\"post\">\n            <div>\n              <Link\n                to={`/${post.creater.username}`}\n                className=\"text-decoration-none\"\n              >\n                <img\n                  src={post.creater.imageUrl}\n                  className=\"user-pic\"\n                  width=\"34\"\n                  height=\"34\"\n                  alt={post.username}\n                />\n                <span className=\"username\">{` ${post.creater.username}`}</span>\n              </Link>\n              <span className=\"date\">{`   ${date}. ${month} `}</span>\n\n              {post.creater.username === props.user.username ? (\n                <button\n                  className=\"bin\"\n                  widht=\"20%\"\n                  onClick={() => deletePost(post._id)}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : (\n                <div></div>\n              )}\n            </div>\n\n            <p>\n              {post.description\n                .trim()\n                .split(\"\\n\")\n                .map((item, index) => {\n                  return (\n                    <span key={index}>\n                      {item}\n\n                      <br />\n                    </span>\n                  );\n                })}\n            </p>\n          </div>\n        );\n      })}\n    </>\n  );\n  return <div>{postList}</div>;\n};\n\nexport default PostList;\n","import React, { Component } from \"react\";\nimport AddPost from \"../posts/AddPost\";\nimport PostList from \"../posts/PostList\";\nimport axios from \"axios\";\n\nclass Newsfeed extends Component {\n  state = {\n    allPosts: [],\n  };\n\n  getAllPosts = () => {\n    axios\n      .get(\"/api/events/myevents\", {\n        params: {\n          type: \"post\",\n          loggedInUserCoordinates: this.props.user.address.coordinates,\n        },\n      })\n      .then((response) => {\n        this.setState({\n          allPosts: response.data,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.getAllPosts();\n  }\n  render() {\n    return (\n      <>\n        <AddPost user={this.props.user} getAllPosts={this.getAllPosts} />\n        <PostList\n          getAllPosts={this.getAllPosts}\n          allPosts={this.state.allPosts}\n          user={this.props.user}\n        />\n      </>\n    );\n  }\n}\n\nexport default Newsfeed;\n","import React, { useState, useEffect } from \"react\";\nimport EventOverview from \"./EventOverview\";\nimport axios from \"axios\";\n\nconst EventsGoing = (props) => {\n  const [myJoinedEvents, setMyJoinedEvents] = useState([]);\n\n  useEffect(() => {\n    getMyJoinedEvents();\n  }, []);\n\n  const getMyJoinedEvents = () => {\n    axios\n      .get(\"/api/events/myevents\", {\n        params: {\n          type: \"eventsGoing\",\n          loggedInUserCoordinates: {},\n        },\n      })\n      .then((response) => {\n        setMyJoinedEvents(response.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  let eventsGoing = (\n    <div>\n      <h1 className=\"h1-heading\">Events I´m Joining</h1>\n      {myJoinedEvents.map((event, index) => {\n        return <EventOverview key={index} event={event} />;\n      })}\n    </div>\n  );\n\n  return <div>{eventsGoing}</div>;\n};\n\nexport default EventsGoing;\n","import React, { useState, useEffect } from \"react\";\nimport EventOverview from \"./EventOverview\";\nimport axios from \"axios\";\n\nconst NextEvents = (props) => {\n  const [upComingEvents, setUpComingEvents] = useState([]);\n\n  useEffect(() => {\n    getUpComingEvents();\n  }, []);\n\n  const getUpComingEvents = () => {\n    axios\n      .get(\"/api/events/myevents\", {\n        params: {\n          type: \"nextEvents\",\n          loggedInUserCoordinates: props.user.address.coordinates,\n        },\n      })\n      .then((response) => {\n        setUpComingEvents(response.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  let nextEvents = (\n    <div>\n      <h1 className=\"h1-heading\">Upcoming Events in your Neighborhood</h1>\n\n      {upComingEvents.map((event, index) => {\n        return <EventOverview key={index} event={event} />;\n      })}\n    </div>\n  );\n  return <div>{nextEvents}</div>;\n};\n\nexport default NextEvents;\n","import React, { Component } from \"react\";\nimport { Button, Container, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport MyEvents from \"./events/MyEvents\";\nimport Newsfeed from \"./posts/Newsfeed\";\nimport EventsGoing from \"./events/EventsGoing\";\nimport NextEvents from \"./events/NextEvents\";\n\nexport default class Home extends Component {\n  componentDidMount() {\n    this.props.getAllUser();\n    this.props.getMsg();\n  }\n\n  render() {\n    let userChatMsg = \"\";\n    let chatNeighborId = \"\";\n    if (this.props.chatMsg.length) {\n      userChatMsg = [...this.props.chatMsg];\n      let lastMsg = userChatMsg && userChatMsg[userChatMsg.length - 1];\n      if (lastMsg) {\n        lastMsg.sender._id !== this.props.user._id\n          ? (chatNeighborId = lastMsg.sender._id)\n          : (chatNeighborId = lastMsg.reciever._id);\n      }\n    }\n\n    return (\n      <Container id=\"home\">\n        <Row className=\"nested-row\">\n          <Col md={3} sm={12} className=\"home-navbar\">\n            <div style={{ textAlign: \"center\" }}>\n              <img\n                src={`${this.props.user.imageUrl}`}\n                alt={`${this.props.user.username}`}\n                width=\"150vw\"\n                height=\"150vw\"\n                className=\"user-pic\"\n                id=\"main-page-profile-pic\"\n              />\n            </div>\n            <Row>\n              <Col md={12} xs={6}>\n                {userChatMsg.length > 0 && (\n                  <Link\n                    to={`/messenger/${chatNeighborId}`}\n                    className=\"btn btn-light home-side-nav\"\n                    id=\"home-nav-button4\"\n                  >\n                    <i className=\"fas fa-envelope\"></i> Messenger\n                  </Link>\n                )}\n              </Col>\n\n              <Col md={12} xs={6}>\n                <Button\n                  className=\"home-side-nav\"\n                  id=\"home-nav-button1\"\n                  variant=\"light\"\n                  onClick={() => {\n                    this.props.handleChangeNav({\n                      showNewsfeed: false,\n                      showMyEvents: true,\n                      showEventsGoing: false,\n                      showNextEvents: false,\n                    });\n                  }}\n                >\n                  My created events\n                </Button>\n              </Col>\n\n              <Col md={12} xs={6}>\n                <Button\n                  className=\"home-side-nav\"\n                  id=\"home-nav-button2\"\n                  variant=\"light\"\n                  onClick={() =>\n                    this.props.handleChangeNav({\n                      showNewsfeed: false,\n                      showMyEvents: false,\n                      showEventsGoing: true,\n                      showNextEvents: false,\n                    })\n                  }\n                >\n                  Events I´m joining\n                </Button>\n              </Col>\n\n              <Col md={12} xs={6}>\n                <Button\n                  className=\"home-side-nav\"\n                  id=\"home-nav-button3\"\n                  variant=\"light\"\n                  onClick={() => {\n                    this.props.handleChangeNav({\n                      showNewsfeed: false,\n                      showMyEvents: false,\n                      showEventsGoing: false,\n                      showNextEvents: true,\n                    });\n                  }}\n                >\n                  All future events\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n\n          <Col md={9} id=\"newsfeed\">\n            {this.props.showNewsfeed && <Newsfeed user={this.props.user} />}\n            {this.props.showMyEvents && <MyEvents user={this.props.user} />}\n            {this.props.showEventsGoing && (\n              <EventsGoing user={this.props.user} />\n            )}\n            {this.props.showNextEvents && <NextEvents user={this.props.user} />}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst handleUpload = theFile => {\n  return axios\n    .post(\"/api/upload\", theFile)\n    .then(response => response.data)\n    .catch(err => err.response.data);\n};\n\nexport { handleUpload };\n","import React, { Component, Fragment } from \"react\";\n\nexport default class EventPic extends Component {\n  render() {\n    return (\n      <Fragment>\n        <img src={this.props.imageUrl} alt=\"event-img\" width=\"100%\" />\n        <input type=\"file\" onChange={this.props.handleFileUpload} />\n      </Fragment>\n    );\n  }\n}\n","let getFormattedDate = (queryDate) => {\n  let dd = String(queryDate.getDate()).padStart(2, \"0\");\n  let mm = String(queryDate.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n  let yyyy = queryDate.getFullYear();\n\n  queryDate = `${yyyy}-${mm}-${dd}`;\n\n  return queryDate;\n};\n\nlet futureEventCheck = (dateFromDatabase, timeFromDatabase) => {\n  if (!dateFromDatabase || !timeFromDatabase) {\n    return false;\n  }\n\n  let isFutureEvent = false;\n  let eventDate = new Date(dateFromDatabase);\n  let eventTimeArr = timeFromDatabase.split(\":\");\n  let hh = Number(eventTimeArr[0]);\n  let mm = Number(eventTimeArr[1]);\n  eventDate.setHours(hh, mm, 0);\n  let currentDate = new Date();\n\n  if (eventDate > currentDate) {\n    isFutureEvent = true;\n  }\n\n  return isFutureEvent;\n};\n\nexport { getFormattedDate, futureEventCheck };\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\nimport { handleUpload } from \"../../services/upload-img\";\nimport EventPic from \"./EventPic\";\nimport { getFormattedDate } from \"../../services/general-functions.js\";\n\nclass AddEvent extends Component {\n  state = {\n    type: \"event\",\n    name: \"\",\n    street: \"\",\n    houseNumber: \"\",\n    city: \"\",\n    postalCode: \"\",\n    date: \"\",\n    time: \"\",\n    description: \"\",\n    imageUrl:\n      \"https://res.cloudinary.com/dqrjpg3xc/image/upload/v1575651991/kiez/default-event-img.jpg.jpg\",\n    photoMessage: null,\n    inputWarning: null,\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    let street = this.state.street.trim();\n    let city = this.state.city.trim();\n    let houseNumber = this.state.houseNumber.trim();\n    if (!city || !street || !houseNumber) {\n      this.setState({\n        inputWarning:\n          \"* The street, city and house number input should contain valid characters\",\n      });\n      return;\n    }\n\n    const { name, postalCode, date, time, imageUrl, description } = this.state;\n\n    let eventDate = new Date(date);\n    const eventTimeArr = time.split(\":\");\n    const hh = Number(eventTimeArr[0]);\n    const mm = Number(eventTimeArr[1]);\n    eventDate.setHours(hh, mm, 0);\n\n    axios\n      .post(\"/api/events\", {\n        type: \"event\",\n        name,\n        street,\n        houseNumber,\n        city,\n        postalCode,\n        date: eventDate,\n        time,\n        imageUrl,\n        description,\n      })\n      .then((res) => {\n        if (res.data.errMessage) {\n          this.setState({\n            inputWarning: `* ${res.data.errMessage}`,\n          });\n\n          return;\n        }\n        this.props.history.push(`/events/${res.data._id}`); // Redirect\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  handleFileUpload = (e) => {\n    let imgSizeLimit = 5000000; //5MB\n    let allowedFormat = [\"image/jpeg\", \"image/png\"];\n    let chosenFile = e.target.files[0];\n\n    if (!chosenFile) {\n      this.setState({\n        imageUrl:\n          \"https://res.cloudinary.com/dqrjpg3xc/image/upload/v1575651991/kiez/default-event-img.jpg.jpg\",\n      });\n      return;\n    }\n\n    if (chosenFile.size > imgSizeLimit) {\n      this.setState({\n        photoMessage: \"* Size of image should be less than 5MB\",\n        imageUrl:\n          \"https://res.cloudinary.com/dqrjpg3xc/image/upload/v1575651991/kiez/default-event-img.jpg.jpg\",\n      });\n      return;\n    }\n\n    if (allowedFormat.indexOf(chosenFile.type) < 0) {\n      this.setState({\n        photoMessage: \"* Format of image should be jpeg or png\",\n        imageUrl:\n          \"https://res.cloudinary.com/dqrjpg3xc/image/upload/v1575651991/kiez/default-event-img.jpg.jpg\",\n      });\n      return;\n    }\n\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n\n    this.setState({ uploadOn: true, photoMessage: \"\" });\n    handleUpload(uploadData)\n      .then((response) => {\n        this.setState({\n          imageUrl: response.secure_url,\n          uploadOn: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  render() {\n    return (\n      <Container className=\"container event-form-container mt-2 mb-5\">\n        <h1 className=\"mx-2 h1-heading\">\n          Create an event for your neighborhood\n        </h1>\n        <Row>\n          <Col md={5} lg={4} className=\"event-form-img-container\">\n            <EventPic\n              imageUrl={this.state.imageUrl}\n              handleFileUpload={this.handleFileUpload}\n            />\n            <p className=\"warning\">{this.state.photoMessage}</p>\n          </Col>\n\n          <Col md={7} lg={8}>\n            <Form\n              onSubmit={this.handleFormSubmit}\n              className=\"row mx-lg-5 mt-lg-4\"\n            >\n              <Form.Group className=\"col-12\">\n                {this.state.inputWarning && (\n                  <p className=\"warning\">{this.state.inputWarning}</p>\n                )}\n                <Form.Label htmlFor=\"name\">Name: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  onChange={this.handleChange}\n                  value={this.state.name}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-8\">\n                <Form.Label htmlFor=\"street\">Street: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"street\"\n                  id=\"street\"\n                  onChange={this.handleChange}\n                  value={this.state.street}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-4\">\n                <Form.Label htmlFor=\"houseNumber\">Nr.: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"houseNumber\"\n                  id=\"houseNumber\"\n                  onChange={this.handleChange}\n                  value={this.state.houseNumber}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-8\">\n                <Form.Label htmlFor=\"city\">City: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"city\"\n                  id=\"city\"\n                  onChange={this.handleChange}\n                  value={this.state.city}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-4\">\n                <Form.Label htmlFor=\"postalCode\">Postalcode: </Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  name=\"postalCode\"\n                  min=\"0\"\n                  id=\"postalCode\"\n                  onChange={this.handleChange}\n                  value={this.state.postalCode}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-6\">\n                <Form.Label htmlFor=\"date\">Date: </Form.Label>\n                <Form.Control\n                  type=\"date\"\n                  name=\"date\"\n                  id=\"date\"\n                  min={getFormattedDate(new Date())}\n                  onChange={this.handleChange}\n                  value={this.state.date}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-6\">\n                <Form.Label htmlFor=\"time\">Time: </Form.Label>\n                <Form.Control\n                  type=\"time\"\n                  name=\"time\"\n                  id=\"time\"\n                  onChange={this.handleChange}\n                  value={this.state.time}\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group className=\"col-12\">\n                <Form.Label htmlFor=\"description\">Description: </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  as=\"textarea\"\n                  rows=\"3\"\n                  name=\"description\"\n                  id=\"description\"\n                  onChange={this.handleChange}\n                  value={this.state.description}\n                />\n              </Form.Group>\n              <div className=\"col-12 flex-end-btn\">\n                <Button type=\"submit\">Create an Event</Button>\n              </div>\n            </Form>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default AddEvent;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\n\nclass Guestlist extends Component {\n  state = {\n    userJoins: null,\n  };\n\n  handleClick = () => {\n    this.setState(\n      {\n        userJoins: !this.state.userJoins,\n      },\n      () => {\n        axios\n          .put(\"/api/events/eventUpdate\", {\n            event: this.props.event,\n            userJoins: this.state.userJoins,\n          })\n          .then(() => {\n            this.props.getSingleEvent();\n          });\n      }\n    );\n  };\n\n  componentDidMount = () => {\n    const inEvent = this.props.joinedUsers.filter((el) => {\n      return el._id === this.props.user._id;\n    });\n\n    if (inEvent.length) {\n      this.setState({ userJoins: true });\n    } else {\n      this.setState({ userJoins: false });\n    }\n  };\n\n  render() {\n    let isHost = false;\n    if (this.props.event.creater._id === this.props.user._id) {\n      isHost = true;\n    }\n\n    return (\n      <Container id=\"join-info\">\n        <h4 className=\"sub-heading\">\n          Host: {\"    \"}\n          <Link\n            to={`/${this.props.event.creater.username}`}\n            className=\"text-decoration-none\"\n          >\n            <img\n              className=\"user-pic guest-pic\"\n              src={this.props.event.creater.imageUrl}\n              alt={this.props.event.creater.username}\n            />{\" \"}\n            <span className=\"username\">\n              {this.props.event.creater.username}{\" \"}\n            </span>\n          </Link>\n        </h4>\n        {!isHost && this.props.isFutureEvent && (\n          <Button\n            variant=\"light\"\n            onClick={this.handleClick}\n            id={`${this.state.userJoins ? \"joined-button\" : \"join-button\"}`}\n          >\n            {this.state.userJoins ? (\n              <i className=\"fas fa-user-friends\"></i>\n            ) : (\n              <i className=\"fas fa-user-alt\"></i>\n            )}{\" \"}\n            {this.state.userJoins ? \"Joined\" : \"Join\"}\n          </Button>\n        )}\n        <Row id=\"guest-list-row\">\n          {this.props.joinedUsers.map((el) => {\n            return (\n              <Col xs={2} md={3} lg={2} className=\"guest\" key={el._id}>\n                <Link to={`/${el.username}`} className=\"text-decoration-none\">\n                  <img\n                    className=\"user-pic guest-pic\"\n                    src={el.imageUrl}\n                    alt={el.username}\n                  />{\" \"}\n                  <p className=\"username mb-0\">{el.username}</p>\n                </Link>\n              </Col>\n            );\n          })}\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Guestlist;\n","import React from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst CommentList = (props) => {\n  let commentList = (\n    <>\n      {props.event.comments\n        .sort(function (a, b) {\n          return new Date(a.date) - new Date(b.date);\n        })\n        .map((comment) => {\n          let deleteComment = (commentId) => {\n            axios\n              .put(`/api/comments/${props.event._id}`, { commentId: commentId })\n              .then(() => {\n                props.getSingleEvent();\n              });\n          };\n\n          return (\n            <div key={comment._id} className=\"comment-box\">\n              <div>\n                <Link\n                  to={`/${comment.author.username}`}\n                  className=\"text-decoration-none\"\n                >\n                  <img\n                    src={comment.author.imageUrl}\n                    className=\"user-pic\"\n                    width=\"40\"\n                    height=\"40\"\n                    alt={comment.author.username}\n                  />{\" \"}\n                  <span className=\"username\">{comment.author.username}</span>\n                </Link>\n                {comment.author.username === props.user.username ? (\n                  <button\n                    className=\"bin\"\n                    widht=\"20%\"\n                    onClick={() => deleteComment(comment._id)}\n                  >\n                    <i className=\"fas fa-trash-alt\"></i>\n                  </button>\n                ) : (\n                  <div></div>\n                )}\n              </div>\n              <p>\n                {comment.content\n                  .trim()\n                  .split(\"\\n\")\n                  .map((item, index) => {\n                    return (\n                      <span key={index}>\n                        {item}\n\n                        <br />\n                      </span>\n                    );\n                  })}\n              </p>\n            </div>\n          );\n        })}\n    </>\n  );\n\n  return props.event ? <div>{commentList}</div> : <div></div>;\n};\nexport default CommentList;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\n\nclass AddComment extends Component {\n  state = {\n    content: \"\",\n  };\n\n  handleChange = (e) => {\n    const content = e.target.value;\n    this.setState({\n      content: content,\n    });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    const content = this.state.content.trim();\n\n    if (!content) {\n      return;\n    }\n\n    axios\n      .post(`/api/comments/${this.props.eventId}`, {\n        content,\n        author: this.props.user._id,\n      })\n      .then(this.setState({ content: \"\" }))\n      .then(() => {\n        this.props.getSingleEvent();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <Form onSubmit={this.handleFormSubmit}>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              as=\"textarea\"\n              rows=\"3\"\n              name=\"content\"\n              onChange={this.handleChange}\n              value={this.state.content}\n              placeholder=\"write a comment or question\"\n            />\n          </Form.Group>\n          <div className=\"flex-end-btn\">\n            <Button type=\"submit\">Send</Button>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default AddComment;\n","import React, { Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport AddComment from \"./AddComment\";\n\nclass Comments extends Component {\n  render() {\n    return (\n      <>\n        <CommentList\n          user={this.props.user}\n          event={this.props.event}\n          getSingleEvent={this.props.getSingleEvent}\n        />\n        <AddComment\n          user={this.props.user}\n          eventId={this.props.eventId}\n          getSingleEvent={this.props.getSingleEvent}\n        />\n      </>\n    );\n  }\n}\n\nexport default Comments;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { handleUpload } from \"../../services/upload-img\";\nimport { Button, Form, Container, Row, Col } from \"react-bootstrap\";\nimport EventPic from \"./EventPic\";\nimport Guestlist from \"./Guestlist\";\nimport Comments from \"./Comments\";\nimport {\n  getFormattedDate,\n  futureEventCheck,\n} from \"../../services/general-functions.js\";\n\nclass EventDetails extends Component {\n  state = {\n    editForm: false,\n    event: {},\n\n    name: \"\",\n    address: null,\n    imageUrl: \"\",\n    street: \"\",\n    houseNumber: \"\",\n    city: \"\",\n    postalCode: \"\",\n    date: \"\",\n    time: \"\",\n    description: \"\",\n\n    dateForForm: \"\",\n    timeForForm: \"\",\n    photoMessage: null,\n    inputWarning: null,\n  };\n\n  getSingleEvent = () => {\n    const { params } = this.props.match;\n    axios\n      .get(`/api/events/${params.id}`)\n      .then((responseFromApi) => {\n        let eventTimeArr = responseFromApi.data.time.split(\":\");\n        let hh = eventTimeArr[0];\n        let mm = eventTimeArr[1];\n\n        let timeForForm = `${hh}:${mm}:00`;\n\n        this.setState({\n          event: responseFromApi.data,\n          name: responseFromApi.data.name,\n          address: responseFromApi.data.address,\n          street: responseFromApi.data.address.street,\n          houseNumber: responseFromApi.data.address.houseNumber,\n          city: responseFromApi.data.address.city,\n          postalCode: responseFromApi.data.address.postalCode,\n          date: responseFromApi.data.date,\n          time: responseFromApi.data.time,\n          imageUrl: responseFromApi.data.imageUrl,\n          description: responseFromApi.data.description,\n          originalImage: responseFromApi.data.imageUrl,\n          dateForForm: getFormattedDate(new Date(responseFromApi.data.date)),\n          timeForForm,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.getSingleEvent();\n  }\n\n  deleteEvent = () => {\n    const id = this.state.event._id;\n    axios\n      .delete(`/api/events/${id}`)\n      .then((response) => {\n        this.props.history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleEdit = () => {\n    this.setState({\n      editForm: !this.state.editForm,\n    });\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  handleFileUpload = (e) => {\n    let imgSizeLimit = 5000000; //5MB\n    let allowedFormat = [\"image/jpeg\", \"image/png\"];\n    let chosenFile = e.target.files[0];\n\n    if (!chosenFile) {\n      this.setState({\n        imageUrl: this.state.originalImage,\n      });\n      return;\n    }\n\n    if (chosenFile.size > imgSizeLimit) {\n      this.setState({\n        photoMessage: \"* Size of image should be less than 5MB\",\n        imageUrl: this.state.originalImage,\n      });\n      return;\n    }\n\n    if (allowedFormat.indexOf(chosenFile.type) < 0) {\n      this.setState({\n        photoMessage: \"* Format of image should be jpeg or png\",\n        imageUrl: this.state.originalImage,\n      });\n      return;\n    }\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n    this.setState({ uploadOn: true, photoMessage: \"\" });\n    handleUpload(uploadData)\n      .then((response) => {\n        this.setState({\n          imageUrl: response.secure_url,\n          uploadOn: false,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n\n    const id = this.props.match.params.id;\n    const date = this.state.dateForForm;\n    const time = this.state.timeForForm;\n\n    let street = this.state.street.trim();\n    let houseNumber = this.state.houseNumber.trim();\n    let city = this.state.city.trim();\n    if (!street || !city || !houseNumber) {\n      this.setState({\n        inputWarning:\n          \"* The street, city and house number input should contain valid characters\",\n      });\n      return;\n    }\n\n    const { name, postalCode, imageUrl, description } = this.state;\n\n    let eventDate = new Date(date);\n    const eventTimeArr = time.split(\":\");\n    const hh = Number(eventTimeArr[0]);\n    const mm = Number(eventTimeArr[1]);\n    eventDate.setHours(hh, mm, 0);\n\n    axios\n      .put(`/api/events/${id}`, {\n        name,\n        street,\n        houseNumber,\n        city,\n        postalCode,\n        imageUrl,\n        date: eventDate,\n        time,\n        description,\n      })\n      .then((response) => {\n        if (response.data.errMessage) {\n          this.setState({\n            inputWarning: `* ${response.data.errMessage}`,\n          });\n\n          return;\n        }\n\n        const {\n          name,\n          address,\n          imageUrl,\n          date,\n          time,\n          description,\n        } = response.data;\n\n        this.setState(\n          {\n            editForm: false,\n            event: response.data,\n            name,\n            address,\n            imageUrl,\n            date,\n            time,\n            description,\n            inputWarning: \"\",\n            photoMessage: \"\",\n          },\n          () => {\n            this.getSingleEvent();\n          }\n        );\n      })\n\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    if (!this.state.date) {\n      return <div className=\"event-detail-page\"></div>;\n    }\n    if (this.state.event.type !== \"event\") {\n      return (\n        <div className=\"event-detail-page\">\n          <h1>Sorry, this page isn't available.</h1>\n          <p>\n            The link you used may be broken, or the page may have been removed.\n          </p>\n        </div>\n      );\n    }\n\n    let description = this.state.description;\n\n    let isFutureEvent = futureEventCheck(this.state.date, this.state.time);\n\n    let isSameUser = false;\n\n    if (\n      this.state.event.creater._id ===\n      (this.props.state.user && this.props.state.user._id)\n    ) {\n      isSameUser = true;\n    }\n\n    if (this.state.editForm === false) {\n      return (\n        <Container className=\"mt-2 mt-md-5 event-detail-page\">\n          <div className=\"d-flex justify-content-end mb-2 mb-md-4\">\n            {isFutureEvent && isSameUser && (\n              <Button\n                variant=\"outline-info\"\n                className=\"mx-2\"\n                onClick={this.toggleEdit}\n              >\n                {`\\u270E`} Edit event\n              </Button>\n            )}\n\n            {isSameUser && (\n              <Button variant=\"outline-danger\" onClick={this.deleteEvent}>\n                {`\\u2715`} Delete event\n              </Button>\n            )}\n          </div>\n          <Row>\n            <Col xs={12} md={6}>\n              <img\n                src={this.state.imageUrl}\n                className=\"event-img\"\n                alt={this.state.name}\n              />\n            </Col>\n            <Col xs={12} md={6}>\n              <h1 className=\"h1-heading\">{this.state.name}</h1>\n              <h5 className=\"date sub-heading\">\n                {this.state.date.slice(0, 10)} at {this.state.time.slice(0, 5)}\n              </h5>\n              <h5 className=\"date sub-heading\">\n                {this.state.address.formattedAddress}\n              </h5>\n              <p>\n                {description\n                  .trim()\n                  .split(\"\\n\")\n                  .map((item, index) => {\n                    return (\n                      <span key={index}>\n                        {item}\n\n                        <br />\n                      </span>\n                    );\n                  })}\n              </p>\n            </Col>\n          </Row>\n          {this.props.state.user._id && (\n            <Row className=\"mt-md-5\">\n              <Col xs={12} md={6}>\n                <Guestlist\n                  event={this.state.event}\n                  joinedUsers={this.state.event.join}\n                  user={this.props.user}\n                  allUsers={this.props.allUsers}\n                  getSingleEvent={this.getSingleEvent}\n                  isFutureEvent={isFutureEvent}\n                />\n              </Col>\n              <Col xs={12} md={6} id=\"comment-area\">\n                <Comments\n                  user={this.props.user}\n                  eventId={this.props.match.params.id}\n                  event={this.state.event}\n                  getSingleEvent={this.getSingleEvent}\n                />\n              </Col>\n            </Row>\n          )}\n        </Container>\n      );\n    }\n\n    if (this.state.editForm === true) {\n      return (\n        <Container className=\"container event-form-container mt-2 mb-5\">\n          <h1>Edit event</h1>\n          <Row>\n            <Col md={5} lg={4} className=\"event-form-img-container\">\n              <EventPic\n                imageUrl={this.state.imageUrl}\n                handleFileUpload={this.handleFileUpload}\n              />\n              {this.state.photoMessage && (\n                <p className=\"warning\">{this.state.photoMessage}</p>\n              )}\n            </Col>\n\n            <Col md={7} lg={8}>\n              <Form onSubmit={this.handleFormSubmit} className=\"row mx-lg-5\">\n                <Form.Group className=\"col-12\">\n                  {this.state.inputWarning && (\n                    <p className=\"warning\">{this.state.inputWarning}</p>\n                  )}\n                  <Form.Label htmlFor=\"name\">Name: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    onChange={this.handleChange}\n                    value={this.state.name}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-8\">\n                  <Form.Label htmlFor=\"street\">Street: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"street\"\n                    id=\"street\"\n                    onChange={this.handleChange}\n                    value={this.state.street}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-4\">\n                  <Form.Label htmlFor=\"houseNumber\">Nr.: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"houseNumber\"\n                    id=\"houseNumber\"\n                    onChange={this.handleChange}\n                    value={this.state.houseNumber}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-8\">\n                  <Form.Label htmlFor=\"city\">City: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"city\"\n                    id=\"city\"\n                    onChange={this.handleChange}\n                    value={this.state.city}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-4\">\n                  <Form.Label htmlFor=\"postalCode\">Postalcode: </Form.Label>\n                  <Form.Control\n                    type=\"number\"\n                    name=\"postalCode\"\n                    id=\"postalCode\"\n                    onChange={this.handleChange}\n                    value={this.state.postalCode}\n                    min=\"0\"\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"date\">Date: </Form.Label>\n                  <Form.Control\n                    type=\"date\"\n                    name=\"dateForForm\"\n                    id=\"date\"\n                    min={getFormattedDate(new Date())}\n                    onChange={this.handleChange}\n                    value={this.state.dateForForm}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"time\">Time: </Form.Label>\n                  <Form.Control\n                    type=\"time\"\n                    name=\"timeForForm\"\n                    id=\"time\"\n                    onChange={this.handleChange}\n                    value={this.state.timeForForm}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-12\">\n                  <Form.Label htmlFor=\"description\">Description: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    as=\"textarea\"\n                    rows=\"3\"\n                    name=\"description\"\n                    id=\"description\"\n                    onChange={this.handleChange}\n                    value={this.state.description}\n                  />\n                </Form.Group>\n                <div className=\"col-12 flex-end-btn\">\n                  <Button type=\"submit\">Save changes</Button>\n                </div>\n              </Form>\n            </Col>\n          </Row>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default EventDetails;\n","const distance = (coordinates1, coordinates2) => {\n  let dx = 71.5 * (coordinates1.lng - coordinates2.lng);\n  let dy = 111.3 * (coordinates1.lat - coordinates2.lat);\n  return Math.sqrt(dx * dx + dy * dy).toFixed(1);\n};\n\nexport { distance };\n\n// // Example:\n// distance(\n//   { lat: 52.5023865, lng: 13.4062956 },\n//   { lat: 52.503706, lng: 13.410135 }\n// );\n","import React from \"react\";\nimport { distance } from \"../../src/services/distance\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nconst SearchResult = props => {\n  const circleSize = 3;\n\n  let loggedInUserLocation = props.user.address.coordinates;\n\n  let neighbor = \"\";\n\n  neighbor = [...props.allUsers].filter(el => {\n    let otherUserLocation = el.address.coordinates;\n\n    return (\n      distance(loggedInUserLocation, otherUserLocation) <= circleSize &&\n      el.username !== props.user.username\n    );\n  });\n\n  let sortedNeighbor = [...neighbor].sort((a, b) => {\n    let distanceA = distance(loggedInUserLocation, a.address.coordinates);\n    let distanceB = distance(loggedInUserLocation, b.address.coordinates);\n    if (distanceA < distanceB) {\n      return -1;\n    }\n\n    if (distanceA > distanceB) {\n      return 1;\n    }\n\n    return 0;\n  });\n\n  let searchWord = props.searchInput.trim();\n\n  if (props.select === \"Help\" && searchWord) {\n    sortedNeighbor = sortedNeighbor.filter(el => {\n      for (const element of el.offerService) {\n        if (element.toLowerCase().includes(searchWord.toLowerCase())) {\n          return true;\n        }\n      }\n\n      for (const element of el.offerStuff) {\n        if (element.toLowerCase().includes(searchWord.toLowerCase())) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n  }\n\n  if (props.select === \"Neighbors\" && searchWord) {\n    sortedNeighbor = sortedNeighbor.filter(el => {\n      return el.username.toLowerCase().includes(searchWord.toLowerCase());\n    });\n  }\n\n  let displayService = \"\";\n  let displayOfferStuff = \"\";\n\n  let neighborCards = [...sortedNeighbor].map((el, index) => {\n    if (el.offerService) {\n      displayService = el.offerService.map((el, index) => {\n        return (\n          <Col key={index} xs={6} md={3} className=\"px-0\">\n            <span className=\"help-item\">\n              <i className=\"fas fa-icons\"></i>{\" \"}\n            </span>\n            <span>{el}</span>\n          </Col>\n        );\n      });\n    }\n\n    if (el.offerStuff) {\n      displayOfferStuff = el.offerStuff.map((el, index) => {\n        return (\n          <Col key={index} xs={6} md={3} className=\"px-0\">\n            <span className=\"toolbox\">\n              <i className=\"fas fa-toolbox\"></i>{\" \"}\n            </span>\n            <span>{el}</span>\n          </Col>\n        );\n      });\n    }\n    let eachDistance = distance(loggedInUserLocation, el.address.coordinates);\n\n    return (\n      <Container key={index} className=\"each-neighbor-card\">\n        <div className=\"pb-1 pt-2 px-lg-3\">\n          <Link\n            to={`/${el.username}`}\n            style={{ textDecoration: \"none\", color: \"black\" }}\n          >\n            <Row>\n              <Col xs={4} md={2} className=\"pr-md-0\">\n                <img\n                  src={el.imageUrl}\n                  className=\"user-pic search-result-pic\"\n                  alt={el.username}\n                />\n                <div className=\"flex-space-between\">\n                  <span className=\"credit-locat-display\">\n                    <i className=\"fas fa-map-marker-alt\"></i> {eachDistance} km\n                  </span>\n                  <span className=\"credit-locat-display\">\n                    <i className=\"far fa-credit-card\"></i> {el.credits}\n                  </span>\n                </div>\n              </Col>\n              <Col xs={8} md={10} className=\"pl-md-5 px-0\">\n                <h4 className=\"mb-0\">{el.username}</h4>\n                {displayOfferStuff && (\n                  <>\n                    <h6\n                      className=\"search-lend-help-title\"\n                      style={{ color: \"grey\" }}\n                    >\n                      I can lend:\n                    </h6>{\" \"}\n                    <Row style={{ width: \"100%\", margin: 0 }}>\n                      {displayOfferStuff}\n                    </Row>\n                  </>\n                )}\n                {displayService && (\n                  <>\n                    <h6\n                      className=\"search-lend-help-title\"\n                      style={{ color: \"grey\" }}\n                    >\n                      I can help:{\" \"}\n                    </h6>\n                    <Row style={{ width: \"100%\", margin: 0 }}>\n                      {displayService}\n                    </Row>\n                  </>\n                )}\n              </Col>\n            </Row>\n          </Link>\n        </div>\n      </Container>\n    );\n  });\n\n  return (\n    <div id=\"search-result\">\n      <h1 className=\"search-result-heading\">\n        Neighbors around you (within 3 km)\n      </h1>\n\n      {neighborCards.length > 0 ? (\n        <div className=\"neighbor-card\">{neighborCards}</div>\n      ) : (\n        <h3 className=\"search-result-heading\">No Result</h3>\n      )}\n    </div>\n  );\n};\n\nexport default SearchResult;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst MessengerNav = props => {\n  let userChatMsg = \"\";\n  if (props.chatMsg.length) {\n    userChatMsg = [...props.chatMsg].filter(el => {\n      return (\n        el.sender._id === props.user._id || el.reciever._id === props.user._id\n      );\n    });\n  }\n\n  let navInfo = {};\n  let nameOrder = [];\n\n  [...userChatMsg].forEach(el => {\n    // current user is reciever\n    if (el.sender._id !== props.user._id) {\n      navInfo[el.sender.username] = {\n        neighborId: el.sender._id,\n        sender: el.sender._id,\n        msg: el.chatMsg,\n        timeStamp: el.createdAt,\n        imageUrl: el.sender.imageUrl\n      };\n      nameOrder.push(el.sender.username);\n    } else {\n      // current user is the sender\n      navInfo[el.reciever.username] = {\n        neighborId: el.reciever._id,\n        sender: el.sender._id,\n        msg: el.chatMsg,\n        timeStamp: el.createdAt,\n        imageUrl: el.reciever.imageUrl\n      };\n      nameOrder.push(el.reciever.username);\n    }\n  });\n\n  let monthEng = {\n    1: \"Jan\",\n    2: \"Feb\",\n    3: \"Mar\",\n    4: \"Apr\",\n    5: \"May\",\n    6: \"Jun\",\n    7: \"Jul\",\n    8: \"Aug\",\n    9: \"Sep\",\n    10: \"Oct\",\n    11: \"Nov\",\n    12: \"Dec\"\n  };\n\n  let nameOrderUnique = new Set(nameOrder.reverse());\n\n  let navDisplay = Array.from(nameOrderUnique);\n\n  navDisplay = navDisplay.map((el, index) => {\n    let formattedDate = new Date(navInfo[el].timeStamp);\n    let date = formattedDate.getDate();\n    let monthNum = formattedDate.getMonth();\n    let month = monthEng[monthNum + 1];\n    let lastMessage = navInfo[el].msg.slice(0, 25);\n\n    return (\n      <NavLink\n        key={index}\n        to={`/messenger/${navInfo[el].neighborId}`}\n        style={{\n          textDecoration: \"none\",\n          color: \"black\"\n        }}\n        exact\n        className=\"flex-display-container py-3 px-2 message-selector\"\n        activeClassName=\"active-message-selector\"\n        onClick={props.hidePanelArea}\n      >\n        <img\n          src={navInfo[el].imageUrl}\n          alt=\"chat-neighbor-pic\"\n          width=\"50\"\n          height=\"50\"\n          className=\"user-pic mr-2 ml-1\"\n        />\n\n        <div>\n          <div className=\"m-0\">\n            <strong>{el}</strong>{\" \"}\n            <span style={{ color: \"grey\" }}>\n              {`\\u2022 ${date} ${month} \\u2022`}\n            </span>\n          </div>\n          <div className=\"m-0\">\n            {navInfo[el].sender === props.user._id ? <span>You: </span> : <></>}\n            <span style={{ color: \"grey\" }}>{lastMessage}</span>\n          </div>\n        </div>\n      </NavLink>\n    );\n  });\n\n  return (\n    <>\n      <h2 className=\"pl-2\">Messenger</h2>\n      <div className=\"p-0 messenger-nav\">{navDisplay}</div>\n    </>\n  );\n};\n\nexport default MessengerNav;\n","import React, { Fragment } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nconst ChatArea = props => {\n  let neighborId = props.match.params.neighborId;\n\n  let chatAreaMsg = \"\";\n  if (props.chatMsg.length) {\n    chatAreaMsg = [...props.chatMsg].reverse().filter(el => {\n      return (\n        (el.sender._id === props.user._id && el.reciever._id === neighborId) ||\n        (el.reciever._id === props.user._id && el.sender._id === neighborId)\n      );\n    });\n  }\n\n  let chatAreaDisplay = [...chatAreaMsg].map((el, index) => {\n    let message = el.chatMsg\n      .trim()\n      .split(\"\\n\")\n      .map((item, index) => {\n        return (\n          <span key={index}>\n            {item}\n            <br />\n          </span>\n        );\n      });\n\n    if (el.sender._id !== props.user._id) {\n      return (\n        <div key={index} className=\"d-flex justify-content-start\">\n          <div className=\"chat-bubble\">\n            <b style={{ color: \"#66AD93\" }}>{el.sender.username}</b>\n            <p>{message}</p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div key={index} className=\"d-flex justify-content-end \">\n        <div className=\"chat-bubble\">\n          <b style={{ color: \"#FF8C00\" }}>You</b>\n          <p>{message}</p>\n        </div>\n      </div>\n    );\n  });\n\n  let neighborName = \"\";\n  let neighborPic = \"\";\n  if (chatAreaMsg[0]) {\n    if (chatAreaMsg[0].sender.username !== props.user.username) {\n      neighborName = chatAreaMsg[0].sender.username;\n      neighborPic = chatAreaMsg[0].sender.imageUrl;\n    } else {\n      neighborName = chatAreaMsg[0].reciever.username;\n      neighborPic = chatAreaMsg[0].reciever.imageUrl;\n    }\n  } else if (chatAreaMsg) {\n    let selectedUser = [...props.allUsers].filter(el => {\n      return el._id === neighborId;\n    });\n\n    neighborName = selectedUser[0].username;\n    neighborPic = selectedUser[0].imageUrl;\n  }\n\n  return (\n    <Fragment>\n      <div\n        className=\"flex-display-container px-2 py-2\"\n        style={{\n          backgroundColor: \"#D5F2E3\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        }}\n      >\n        <h3 className=\"mb-0\">\n          <Link\n            style={{ textDecoration: \"none\", color: \"black\" }}\n            to={`/${neighborName}`}\n          >\n            <img\n              src={neighborPic}\n              width=\"40\"\n              height=\"40\"\n              className=\"user-pic\"\n              alt=\"neighbor_pic\"\n            />{\" \"}\n            {neighborName}\n          </Link>\n        </h3>\n        {window.innerWidth <= 600 || window.innerHeight <= 600 ? (\n          <Button\n            id=\"chat-area-change-size-btn\"\n            variant=\"outline-success\"\n            onClick={props.hideChatArea}\n          >\n            back to list\n          </Button>\n        ) : (\n          \"\"\n        )}\n      </div>\n      <div className=\"p-4 chat-area-msg-display\">{chatAreaDisplay}</div>\n      <div>\n        <Form\n          onSubmit={e => {\n            props.handleChatInputSubmit(e, neighborId);\n          }}\n        >\n          <Form.Control\n            as=\"textarea\"\n            rows=\"3\"\n            name=\"chatInput\"\n            onChange={props.handleChange}\n            value={props.chatInput}\n            placeholder=\"Text here...\"\n          />\n          <div className=\"d-flex justify-content-end\">\n            <Button className=\"mx-2\" type=\"submit\" variant=\"outline-success\">\n              Send\n            </Button>\n          </div>\n        </Form>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default ChatArea;\n","import React, { Component } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport MessengerNav from \"./MessengerNav\";\nimport ChatArea from \"./ChatArea\";\n\nexport default class Messenger extends Component {\n  constructor() {\n    super();\n    this.panelArea = React.createRef();\n    this.chatArea = React.createRef();\n  }\n  componentDidMount() {\n    this.props.getMsg();\n    if (\n      (window.innerWidth <= 600 || window.innerHeight <= 600) &&\n      this.props.showChatArea\n    ) {\n      this.panelArea.current.style.display = \"none\";\n      this.chatArea.current.style.display = \"block\";\n      this.props.setChatArea(false);\n    }\n  }\n\n  hideChatArea = () => {\n    if (window.innerWidth <= 600 || window.innerHeight <= 600) {\n      this.panelArea.current.style.display = \"block\";\n      this.chatArea.current.style.display = \"none\";\n    }\n  };\n\n  hidePanelArea = () => {\n    if (window.innerWidth <= 600 || window.innerHeight <= 600) {\n      this.panelArea.current.style.display = \"none\";\n      this.chatArea.current.style.display = \"block\";\n    }\n  };\n\n  render() {\n    return (\n      <Container fluid={true} className=\"p-0 flex-display-container\">\n        <div className=\"px-0 panel-area\" ref={this.panelArea}>\n          <MessengerNav\n            user={this.props.user}\n            chatMsg={this.props.chatMsg}\n            hidePanelArea={this.hidePanelArea}\n          />\n        </div>\n        <div className=\"p-0 chat-area-container\" ref={this.chatArea}>\n          <ChatArea\n            user={this.props.user}\n            chatMsg={this.props.chatMsg}\n            chatInput={this.props.chatInput}\n            handleChange={this.props.handleChange}\n            handleChatInputSubmit={this.props.handleChatInputSubmit}\n            allUsers={this.props.allUsers}\n            {...this.props}\n            hideChatArea={this.hideChatArea}\n          />\n        </div>\n      </Container>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { signup } from \"../services/auth\";\nimport { Alert, Form, Button, Container, Row } from \"react-bootstrap\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    street: \"\",\n    houseNumber: \"\",\n    city: \"\",\n    postalCode: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    let username = this.state.username;\n    let regex = /^[a-z0-9]+$/i;\n    let isValidUserName = regex.test(username);\n\n    let password = this.state.password;\n\n    let street = this.state.street.trim();\n    let city = this.state.city.trim();\n    let houseNumber = this.state.houseNumber.trim();\n\n    if (!isValidUserName) {\n      this.setState({\n        error: \"Username can contain only english letters or numbers\"\n      });\n      return;\n    }\n\n    if (username.length < 3 || username.length > 12) {\n      this.setState({\n        error: \"The length of username should be 3-12 characters\"\n      });\n      return;\n    }\n\n    if (password.length < 8) {\n      this.setState({\n        error: \"Password should contain at least 8 characters\"\n      });\n      return;\n    }\n\n    if (!street || !city || !houseNumber) {\n      this.setState({\n        error:\n          \"The street, city and house number input should contain valid characters \"\n      });\n      return;\n    }\n\n    signup(\n      username,\n      password,\n      street,\n      houseNumber,\n      city,\n      this.state.postalCode\n    ).then(data => {\n      if (data.message) {\n        // handle errors\n        this.setState({\n          error: data.message\n        });\n      } else {\n        this.props.setUser(data);\n\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"background-image\">\n        <div className=\"signup\">\n          <Container>\n            <h2>Signup</h2>\n\n            <Form onSubmit={this.handleSubmit}>\n              <Row>\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"username\">Username: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"username\"\n                    id=\"username\"\n                    value={this.state.username}\n                    onChange={this.handleChange}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"password\">Password: </Form.Label>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"min. 8 characters\"\n                    value={this.state.password}\n                    onChange={this.handleChange}\n                    required={true}\n                  />\n                </Form.Group>\n              </Row>\n\n              <Row>\n                <Form.Group className=\"col-8 \">\n                  <Form.Label htmlFor=\"street\">Street: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"street\"\n                    id=\"street\"\n                    value={this.state.street}\n                    onChange={this.handleChange}\n                    required={true}\n                  />\n                </Form.Group>\n\n                <Form.Group className=\"col-4 \">\n                  <Form.Label htmlFor=\"houseNumber\">Nr.: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"houseNumber\"\n                    id=\"houseNumber\"\n                    onChange={this.handleChange}\n                    value={this.state.houseNumber}\n                    required={true}\n                  />\n                </Form.Group>\n              </Row>\n\n              <Row>\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"postalCode\" id=\"postal-code\">\n                    Postalcode:{\" \"}\n                  </Form.Label>\n                  <Form.Control\n                    type=\"number\"\n                    name=\"postalCode\"\n                    id=\"postalCode\"\n                    onChange={this.handleChange}\n                    value={this.state.postalCode}\n                    min=\"0\"\n                    required={true}\n                  />\n                </Form.Group>\n                <Form.Group className=\"col-6\">\n                  <Form.Label htmlFor=\"city\">City: </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"city\"\n                    id=\"city\"\n                    onChange={this.handleChange}\n                    value={this.state.city}\n                    required={true}\n                  />\n                </Form.Group>\n              </Row>\n\n              {this.state.error && (\n                <Alert variant=\"danger\">{this.state.error}</Alert>\n              )}\n              <Button variant=\"danger\" type=\"submit\">\n                Sign up\n              </Button>\n            </Form>\n          </Container>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n","import React, { Component } from \"react\";\nimport { login } from \"../services/auth\";\nimport { Alert, Form, Button } from \"react-bootstrap\";\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    error: \"\"\n  };\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    login(this.state.username, this.state.password).then(data => {\n      if (data.message) {\n        // handle errors\n        this.setState({\n          error: data.message\n        });\n      } else {\n        // no error\n        // lift the data up to the App state\n        this.props.setUser(data);\n        // redirect to \"/\" (NewsFeed Page)\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"background-image\">\n        <div className=\"login-form\">\n          <h2>Login</h2>\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Group>\n              <Form.Label htmlFor=\"username\">Username: </Form.Label>\n              <Form.Control\n                type=\"text\"\n                name=\"username\"\n                id=\"username\"\n                value={this.state.username}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label htmlFor=\"password\">Password: </Form.Label>\n              <Form.Control\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n              />\n            </Form.Group>\n            {this.state.error && (\n              <Alert variant=\"danger\">{this.state.error}</Alert>\n            )}\n            <Button variant=\"danger\" type=\"submit\">\n              Log in\n            </Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\n\nexport default class AboutMe extends Component {\n  render() {\n    return (\n      <>\n        <h5\n          className=\"mt-md-5 mb-2 profile-detail-subhead\"\n          style={{ color: \"grey\" }}\n        >\n          About Me &nbsp;&nbsp;\n          {this.props.sameUser && !this.props.state.showAboutMeForm && (\n            <Button\n              onClick={() =>\n                this.props.toggleForm({\n                  showAboutMeForm: !this.props.state.showAboutMeForm\n                })\n              }\n              variant=\"outline-info\"\n            >{`\\u270E`}</Button>\n          )}\n        </h5>\n\n        {this.props.state.showAboutMeForm && (\n          <Form onSubmit={this.props.updateAboutMe}>\n            <Form.Group>\n              <Form.Control\n                as=\"textarea\"\n                rows=\"3\"\n                name=\"aboutMe\"\n                onChange={this.props.handleChange}\n                value={this.props.state.aboutMe}\n              />\n            </Form.Group>\n            <div className=\"d-flex justify-content-end\">\n              <Button type=\"submit\" variant=\"outline-success\" className=\"mr-1\">\n                Add\n              </Button>\n              <Button\n                onClick={this.props.cancelEditAboutMe}\n                variant=\"outline-danger\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </Form>\n        )}\n        {!this.props.state.showAboutMeForm && (\n          <p className=\"mt-3 mb-md-5\">\n            {this.props.state.aboutMe &&\n              this.props.state.aboutMe\n                .trim()\n                .split(\"\\n\")\n                .map((item, index) => {\n                  return (\n                    <span key={index}>\n                      {item}\n                      <br />\n                    </span>\n                  );\n                })}\n          </p>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\n\nexport default class ProfilePic extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"profile-page-img-container\">\n          <img className=\"user-pic\" src={this.props.imageUrl} alt=\"\" />\n          {this.props.canUpdateImg && <span>Preview</span>}\n        </div>\n        {this.props.sameUser && (\n          <form onSubmit={this.props.handleSubmitFile}>\n            <input\n              type=\"file\"\n              id=\"pic-input\"\n              onChange={this.props.handleFileChange}\n            />\n            {this.props.canUpdateImg && (\n              <Button type=\"submit\" variant=\"outline-info\">\n                Upload\n              </Button>\n            )}\n          </form>\n        )}\n        {this.props.photoMessage && (\n          <p style={{ color: \"red\" }}>{this.props.photoMessage}</p>\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\n\nexport default class OfferService extends Component {\n  render() {\n    let services = <></>;\n\n    // check if offerService is empty\n    if (this.props.offerService) {\n      services = [...this.props.offerService].map((el, index) => {\n        return (\n          <Fragment key={index}>\n            <div className=\"help-item-list\">\n              <li>\n                <span className=\"mr-2 help-item \">\n                  <i className=\"fas fa-icons\"></i>\n                </span>{\" \"}\n                <span>{el}</span>\n              </li>\n\n              {this.props.showOfferServiceForm && (\n                <button\n                  onClick={() => this.props.deleteService(el)}\n                >{`\\u00D7`}</button>\n              )}\n            </div>\n          </Fragment>\n        );\n      });\n    }\n\n    return (\n      <div className=\"my-md-5\">\n        <h3 className=\"profile-detail-subhead\">\n          I can help...{\" \"}\n          {this.props.sameUser && !this.props.showOfferServiceForm && (\n            <Button\n              onClick={() =>\n                this.props.toggleForm({\n                  showOfferServiceForm: !this.props.showOfferServiceForm\n                })\n              }\n              variant=\"outline-info\"\n            >\n              {`\\u270E`} Edit\n            </Button>\n          )}\n        </h3>\n\n        <ul className=\"pl-0\" style={{ listStyleType: \"none\" }}>\n          {services}\n        </ul>\n\n        {this.props.showOfferServiceForm && (\n          <Form onSubmit={this.props.handleSubmitOfferService}>\n            <Form.Group>\n              <Form.Control\n                id=\"help-input\"\n                type=\"text\"\n                name=\"serviceInput\"\n                onChange={this.props.handleChange}\n                value={this.props.serviceInput}\n              />\n            </Form.Group>\n            <div className=\"add-service-stuff-btn\">\n              <Button type=\"submit\" variant=\"outline-success\" className=\"mr-2\">\n                Add\n              </Button>\n              <Button\n                onClick={() =>\n                  this.props.toggleForm({\n                    showOfferServiceForm: !this.props.showOfferServiceForm\n                  })\n                }\n                variant=\"outline-info\"\n              >\n                Done\n              </Button>\n            </div>\n          </Form>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Fragment } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\n\nconst OfferStuff = props => {\n  let stuff = <></>;\n  if (props.offerStuff) {\n    stuff = [...props.offerStuff].map((el, index) => {\n      return (\n        <Fragment key={index}>\n          <div className=\"help-item-list\">\n            <li>\n              <span className=\"mr-2 toolbox\">\n                <i className=\"fas fa-toolbox\"></i>{\" \"}\n              </span>{\" \"}\n              <span>{el}</span>\n            </li>\n\n            {props.showOfferStuffForm && (\n              <button onClick={() => props.deleteStuff(el)}>{`\\u00D7`}</button>\n            )}\n          </div>\n        </Fragment>\n      );\n    });\n  }\n\n  return (\n    <div className=\"my-md-5\">\n      <h3 className=\"profile-detail-subhead\">\n        I can lend...{\" \"}\n        {props.sameUser && !props.showOfferStuffForm && (\n          <Button\n            onClick={() =>\n              props.toggleForm({\n                showOfferStuffForm: !props.showOfferStuffForm\n              })\n            }\n            variant=\"outline-info\"\n          >\n            {`\\u270E`} Edit\n          </Button>\n        )}\n      </h3>\n\n      <ul className=\"pl-0\" style={{ listStyleType: \"none\" }}>\n        {stuff}\n      </ul>\n\n      {props.showOfferStuffForm && (\n        <Form onSubmit={props.handleSubmitOfferStuff}>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              name=\"stuffInput\"\n              id=\"stuff-input\"\n              onChange={props.handleChange}\n              value={props.stuffInput}\n            />\n          </Form.Group>\n          <div className=\"add-service-stuff-btn\">\n            <Button type=\"submit\" variant=\"outline-success\" className=\"mr-2\">\n              Add\n            </Button>\n            <Button\n              onClick={() =>\n                props.toggleForm({\n                  showOfferStuffForm: !props.showOfferStuffForm\n                })\n              }\n              variant=\"outline-info\"\n            >\n              Done\n            </Button>\n          </div>\n        </Form>\n      )}\n    </div>\n  );\n};\n\nexport default OfferStuff;\n// rafce\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst ReferenceCard = props => {\n  let referenceList = [...props.reference].map((el, index) => {\n    let content = el.content.split(\"\\n\").map(function(item, key) {\n      return (\n        <span key={key}>\n          {item}\n          <br />\n        </span>\n      );\n    });\n\n    let stars = \"\\u2605\".repeat(el.rating);\n\n    return (\n      <Fragment key={index}>\n        <Row className=\"my-3\">\n          <Col className=\"mr-2\" xs={2} lg={1}>\n            {el.author.imageUrl && (\n              <img\n                className=\"user-pic mt-1\"\n                src={el.author.imageUrl}\n                alt=\"author_picture\"\n                width=\"40\"\n                height=\"40\"\n              />\n            )}\n          </Col>\n          <Col>\n            {el.author.username ? (\n              <Link\n                style={{ textDecoration: \"none\", color: \"black\" }}\n                to={`/${el.author.username}`}\n              >\n                <strong>{el.author.username}</strong>\n              </Link>\n            ) : (\n              <strong style={{ color: \"grey\", fontStyle: \"italic\" }}>\n                Deleted\n              </strong>\n            )}\n            <p className=\"mb-1\" style={{ color: \"#ffcc00\", fontSize: 20 }}>\n              {stars}\n            </p>\n            <p>{content}</p>\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  });\n  return referenceList;\n};\n\nexport default ReferenceCard;\n","import React, { Fragment } from \"react\";\nimport { Button, Form, Alert, Container, Row, Col } from \"react-bootstrap\";\nimport ReactStars from \"react-stars\";\nimport ReferenceCard from \"./ReferenceCard\";\n\nconst Reference = props => {\n  const ratingChanged = rating => {\n    props.handleRatingChange(rating);\n  };\n\n  let createdRef = \"\";\n\n  // or let createdRef = React.createRef();\n  // and button property: ref={createdRef}\n  // or using e.target: e.target.id.name\n\n  return (\n    <>\n      <h3 className=\"mt-md-5 reference-heading h2-heading\">\n        Reference{\" \"}\n        {!props.sameUser && !props.showReferenceForm && props.user && (\n          <Button\n            onClick={() =>\n              props.toggleForm({\n                showReferenceForm: !props.showReferenceForm\n              })\n            }\n            variant=\"outline-info\"\n          >\n            {`\\u270E`} Add a reference\n          </Button>\n        )}\n      </h3>\n      <Container>\n        {props.showReferenceForm && !props.sameUser && (\n          <Fragment>\n            <Alert variant=\"warning\">\n              Your current credit: {props.authorCredits}\n            </Alert>\n            {props.showNotEnoughCredit && (\n              <Alert variant=\"warning\">\n                You don't have enough credit to transfer.\n              </Alert>\n            )}\n\n            {props.showNeedtoWriteSth && (\n              <Alert variant=\"warning\">You need to write something.</Alert>\n            )}\n\n            <Row className=\"my-3\">\n              <Col className=\"mr-2\" xs={2} lg={1}>\n                <img\n                  className=\"user-pic mt-1\"\n                  src={props.user.imageUrl}\n                  alt=\"author_picture\"\n                  width=\"40\"\n                  height=\"40\"\n                />\n              </Col>\n              <Col>\n                <Form onSubmit={e => props.addReference(e, createdRef)}>\n                  {props.showReferenceAlert && (\n                    <Alert variant=\"danger\">\n                      IMPORTANT!!\n                      <br />\n                      Are you sure you want to submit this reference?\n                      <br />\n                      Submitted reference CANNOT be modified or deleted.\n                      <br />\n                      {/* <Button type=\"submit\" variant=\"outline-danger\"> */}\n                      <Button\n                        type=\"submit\"\n                        ref={domEl => {\n                          createdRef = domEl;\n                        }}\n                        name=\"final_submit\"\n                        variant=\"outline-success\"\n                        className=\"mt-3\"\n                      >\n                        Confirm\n                      </Button>\n                      <Button\n                        onClick={() =>\n                          props.toggleForm({ showReferenceAlert: false })\n                        }\n                        variant=\"outline-danger\"\n                        className=\"mt-3 mx-2\"\n                      >\n                        Cancel\n                      </Button>\n                    </Alert>\n                  )}\n\n                  <Row>\n                    <Col md={6}>\n                      <Form.Group>\n                        <Form.Label>\n                          Give Credits to <strong>{props.profileOwner}</strong>{\" \"}\n                          (optional) :\n                        </Form.Label>\n                        <Form.Control\n                          type=\"number\"\n                          name=\"creditInput\"\n                          placeholder=\"Write a number\"\n                          min=\"0\"\n                          step=\"1\"\n                          onChange={props.handleCreditChange}\n                          value={props.creditInput}\n                        />\n                      </Form.Group>\n                    </Col>\n                    <Col md={1}></Col>\n                    <Col md={5}>\n                      <Form.Label>Rating :</Form.Label>\n                      <ReactStars\n                        value={props.rating}\n                        count={5}\n                        onChange={ratingChanged}\n                        size={30}\n                        half={false}\n                        color2={\"#ffd700\"}\n                      />\n                    </Col>\n                  </Row>\n                  <Form.Group>\n                    <Form.Control\n                      as=\"textarea\"\n                      rows=\"3\"\n                      name=\"referenceInput\"\n                      onChange={props.handleRefChange}\n                      value={props.referenceInput}\n                      required={true}\n                      placeholder=\"Write your reference here\"\n                    />\n                  </Form.Group>\n                  {!props.showReferenceAlert && (\n                    <div className=\"d-flex justify-content-end\">\n                      <Button type=\"submit\" variant=\"outline-success\">\n                        Add\n                      </Button>\n                      <Button\n                        onClick={props.cancelEditReference}\n                        variant=\"outline-danger\"\n                        className=\"mx-2\"\n                      >\n                        Cancel\n                      </Button>\n                    </div>\n                  )}\n                </Form>\n              </Col>\n            </Row>\n          </Fragment>\n        )}\n        <ReferenceCard reference={props.reference} />\n      </Container>\n    </>\n  );\n};\n\nexport default Reference;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Container, Row, Col, Button, Alert, Form } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport AboutMe from \"./AboutMe\";\nimport ProfilePic from \"./ProfilePic\";\nimport { handleUpload } from \"../../services/upload-img\";\nimport OfferService from \"./OfferService\";\nimport OfferStuff from \"./OfferStuff\";\nimport Reference from \"./Reference\";\n// import DeleteButton from \"../DeleteButton\";   disable del-account-function temporarily\n\nclass ProfileDetails extends Component {\n  state = {\n    _id: null,\n    username: \"\",\n    address: \"\",\n    street: \"\",\n    houseNumber: \"\",\n    city: \"\",\n    postalCode: \"\",\n    offerStuff: \"\",\n    offerService: \"\",\n    imageUrl: \"\",\n    aboutMe: \"\",\n    reference: \"\",\n    credits: \"\",\n    event: \"\",\n    following: \"\",\n    showAboutMeForm: false,\n    showAddressForm: false,\n    showOfferServiceForm: false,\n    showOfferStuffForm: false,\n    showReferenceForm: false,\n    showReferenceAlert: false,\n    showDeleteAlert: false,\n    showNotEnoughCredit: false,\n    showNeedtoWriteSth: false,\n    serviceInput: \"\",\n    stuffInput: \"\",\n    referenceInput: \"\",\n    creditInput: \"\",\n    authorCredits: this.props.user.credits,\n    rating: 0,\n    photoMessage: null,\n    addressInvalidMsg: null,\n    canUpdateImg: false,\n    originalImgUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.getData();\n    }\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  // get profile owner's data and update the state\n  getData = () => {\n    const username = this.props.match.params.username;\n\n    axios\n      .get(`/api/user/${username}`)\n      .then((response) => {\n        this.setState({\n          _id: response.data._id,\n          username: response.data.username,\n          address: response.data.address,\n          street: response.data.address.street,\n          houseNumber: response.data.address.houseNumber,\n          city: response.data.address.city,\n          postalCode: response.data.address.postalCode,\n          offerStuff: response.data.offerStuff,\n          offerService: response.data.offerService,\n          imageUrl: response.data.imageUrl,\n          aboutMe: response.data.aboutMe,\n          reference: response.data.reference.reverse(),\n          credits: response.data.credits,\n          event: response.data.event,\n          following: response.data.following,\n          originalImgUrl: response.data.imageUrl,\n        });\n      })\n\n      .catch((err) => {\n        console.log(err);\n        if (err.response.status === 404) {\n          this.setState({\n            error: err.response.data.message,\n          });\n        }\n      });\n  };\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  toggleForm = (obj) => {\n    this.setState(obj);\n  };\n\n  //Update Address\n  updateAddress = (event) => {\n    event.preventDefault();\n\n    let street = this.state.street.trim();\n    let city = this.state.city.trim();\n    let houseNumber = this.state.houseNumber.trim();\n    if (!street || !city || !houseNumber) {\n      this.setState({\n        addressInvalidMsg:\n          \"The street, city and house number input should contain valid characters \",\n      });\n      return;\n    }\n\n    axios\n      .put(`/api/user/address/${this.state.username}`, {\n        street: this.state.street,\n        houseNumber: this.state.houseNumber,\n        city: this.state.city,\n        postalCode: this.state.postalCode,\n      })\n      .then((response) => {\n        if (response.data.message) {\n          this.setState({ addressInvalidMsg: response.data.message });\n          return;\n        }\n\n        this.setState({\n          address: response.data.address,\n          street: response.data.address.street,\n          houseNumber: response.data.address.houseNumber,\n          city: response.data.address.city,\n          postalCode: response.data.address.postalCode,\n          addressInvalidMsg: \"\",\n        });\n        this.props.setUser(response.data);\n        this.toggleForm({ showAddressForm: !this.state.showAddressForm });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  cancelEditAddress = () => {\n    this.setState({ showAddressForm: false });\n  };\n\n  // AboutMe Functions\n  updateAboutMe = (event) => {\n    event.preventDefault();\n    axios\n      .put(`/api/user/${this.state.username}`, { aboutMe: this.state.aboutMe })\n      .then((response) => {\n        this.setState(\n          {\n            aboutMe: response.data.aboutMe,\n          },\n          () => {\n            this.toggleForm({ showAboutMeForm: !this.state.showAboutMeForm });\n          }\n        );\n      })\n      .catch((error) => console.log(error));\n  };\n\n  cancelEditAboutMe = () => {\n    this.getData();\n    this.toggleForm({ showAboutMeForm: !this.state.showAboutMeForm });\n  };\n\n  // update user's image\n  handleFileChange = (e) => {\n    let imgSizeLimit = 5000000; //5MB\n    let allowedFormat = [\"image/jpeg\", \"image/png\"];\n    let chosenFile = e.target.files[0];\n\n    if (!chosenFile) {\n      this.setState({\n        canUpdateImg: false,\n        imageUrl: this.state.originalImgUrl,\n      });\n      return;\n    }\n\n    if (chosenFile.size > imgSizeLimit) {\n      this.setState({\n        canUpdateImg: false,\n        photoMessage: \"Size of image should be less than 5MB\",\n        imageUrl: this.state.originalImgUrl,\n      });\n      return;\n    }\n\n    if (allowedFormat.indexOf(chosenFile.type) < 0) {\n      this.setState({\n        canUpdateImg: false,\n        photoMessage: \"Format of image should be jpeg or png\",\n        imageUrl: this.state.originalImgUrl,\n      });\n      return;\n    }\n\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n\n    this.setState({ uploadOn: true, photoMessage: \"\" });\n\n    handleUpload(uploadData)\n      .then((response) => {\n        this.setState({\n          imageUrl: response.secure_url,\n          uploadOn: false,\n          canUpdateImg: true,\n          photoMessage: \"\",\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  handleSubmitFile = (e) => {\n    e.preventDefault();\n\n    if (this.state.uploadOn) return; // do nothing if the file is still being uploaded\n    axios\n      .put(`/api/user/profile-pic/${this.state.username}`, {\n        imageUrl: this.state.imageUrl,\n      })\n      .then((response) => {\n        this.setState({\n          imageUrl: response.data.imageUrl,\n          photoMessage: \"Image has been updated successfully\",\n          canUpdateImg: false,\n        });\n        this.props.setUser(response.data);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  //offer Service functions\n  handleSubmitOfferService = (e) => {\n    e.preventDefault();\n    if (this.state.serviceInput !== \"\") {\n      axios\n        .put(`/api/user/offer-service/${this.state.username}`, {\n          offerService: this.state.serviceInput.trim(),\n        })\n        .then((response) => {\n          this.setState({\n            offerService: response.data.offerService,\n            serviceInput: \"\",\n          });\n        })\n        .catch((error) => console.log(error));\n    }\n  };\n\n  deleteService = (deleteItem) => {\n    axios\n      .put(`/api/user/offer-service-delete/${this.state.username}`, {\n        offerService: deleteItem,\n      })\n      .then((response) => {\n        this.setState({\n          offerService: response.data.offerService,\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n\n  //offer Stuff functions\n  handleSubmitOfferStuff = (e) => {\n    e.preventDefault();\n    if (this.state.stuffInput) {\n      axios\n\n        .put(`/api/user/offer-stuff/${this.state.username}`, {\n          offerStuff: this.state.stuffInput.trim(),\n        })\n        .then((response) => {\n          this.setState({\n            offerStuff: response.data.offerStuff,\n            stuffInput: \"\",\n          });\n        })\n        .catch((error) => console.log(error));\n    }\n  };\n\n  deleteStuff = (deleteItem) => {\n    axios\n      .put(`/api/user/offer-stuff-delete/${this.state.username}`, {\n        offerStuff: deleteItem,\n      })\n      .then((response) => {\n        this.setState({\n          offerStuff: response.data.offerStuff,\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n\n  // Reference\n\n  handleRefChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n      showNeedtoWriteSth: false,\n    });\n  };\n\n  handleCreditChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n      showNotEnoughCredit: false,\n    });\n  };\n\n  handleRatingChange = (rating) => {\n    this.setState({\n      rating,\n    });\n  };\n\n  cancelEditReference = () => {\n    this.toggleForm({ showReferenceAlert: false, showReferenceForm: false });\n    this.setState({\n      rating: 0,\n      referenceInput: \"\",\n      creditInput: \"\",\n      showNotEnoughCredit: false,\n      showNeedtoWriteSth: false,\n    });\n  };\n\n  addReference = (e, ref) => {\n    e.preventDefault();\n\n    if (\n      parseInt(this.state.authorCredits, 10) -\n        parseInt(this.state.creditInput, 10) <\n      0\n    ) {\n      this.setState({ showNotEnoughCredit: true, showReferenceAlert: false });\n      return;\n    }\n\n    if (!this.state.referenceInput.trim()) {\n      this.setState({ showNeedtoWriteSth: true, showReferenceAlert: false });\n      return;\n    }\n\n    this.toggleForm({ showReferenceAlert: true });\n\n    if (ref.name === \"final_submit\") {\n      let recievedCredit = parseInt(this.state.creditInput, 10);\n\n      if (!this.state.creditInput) {\n        recievedCredit = 0;\n      }\n\n      this.submitReference(recievedCredit);\n    }\n  };\n\n  submitReference = (recievedCredit) => {\n    return axios\n      .post(\"api/reference\", {\n        content: this.state.referenceInput.trim(),\n        rating: this.state.rating,\n        recievedCredit,\n        profileOwner: this.state._id,\n      })\n      .then((response) => {\n        this.setState({\n          referenceInput: \"\",\n          creditInput: \"\",\n          rating: 0,\n          showReferenceAlert: false,\n          authorCredits: response.data.authorData.credits,\n          credits: response.data.profileOwnerData.credits,\n          reference: response.data.profileOwnerData.reference.reverse(),\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  //Delete Account\n  deleteAccount = () => {\n    axios\n      .delete(`/api/user/${this.state._id}`, { id: this.state._id })\n      .then((res) => {\n        this.props.history.push(\"/\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  toggleDelAlertFunction = () => {\n    this.setState({ showDeleteAlert: !this.state.showDeleteAlert });\n  };\n\n  render() {\n    //  disable del-account-function temporarily\n    // let alertMessage = (\n    //   <p>\n    //     IMPORTANT!! <br />\n    //     Are you sure you want to delete your account??\n    //   </p>\n    // );\n\n    let sameUser = false;\n    if (this.state._id === this.props.user._id) {\n      sameUser = true;\n    }\n\n    if (this.state.error) {\n      return <h1 className=\"profile-detail-page\">{this.state.error}</h1>;\n    }\n\n    return (\n      <Container className=\"my-md-5 px-lg-5 profile-detail-page\">\n        {/* disable del-account-function temporarily */}\n        {/* {sameUser && (\n          <DeleteButton\n            alertMessage={alertMessage}\n            toggleDelAlertFunction={this.toggleDelAlertFunction}\n            deleteFunction={this.deleteAccount}\n            showDeleteAlert={this.state.showDeleteAlert}\n          />\n        )} */}\n        <Row>\n          <Col md={5} className=\"my-4\" id=\"profile-left-top-container\">\n            <ProfilePic\n              user={this.props.user}\n              sameUser={sameUser}\n              imageUrl={this.state.imageUrl}\n              handleFileChange={this.handleFileChange}\n              handleSubmitFile={this.handleSubmitFile}\n              photoMessage={this.state.photoMessage}\n              canUpdateImg={this.state.canUpdateImg}\n            />\n\n            {sameUser && (\n              <>\n                <h5\n                  style={{ color: \"grey\" }}\n                  className=\"mt-md-4 profile-detail-subhead\"\n                >\n                  Address&nbsp;&nbsp;&nbsp;\n                  {!this.state.showAddressForm && (\n                    <Button\n                      onClick={() =>\n                        this.toggleForm({\n                          showAddressForm: !this.state.showAddressForm,\n                        })\n                      }\n                      variant=\"outline-info\"\n                    >{`\\u270E`}</Button>\n                  )}\n                </h5>\n\n                {this.state.showAddressForm && (\n                  <Form onSubmit={this.updateAddress}>\n                    <Row>\n                      {this.state.addressInvalidMsg && (\n                        <p className=\"warning col-12\">\n                          * {this.state.addressInvalidMsg}\n                        </p>\n                      )}\n\n                      <Form.Group className=\"col-7\">\n                        <Form.Label htmlFor=\"street\">Street: </Form.Label>\n                        <Form.Control\n                          type=\"text\"\n                          name=\"street\"\n                          id=\"street\"\n                          value={this.state.street}\n                          onChange={this.handleChange}\n                          required={true}\n                        />\n                      </Form.Group>\n\n                      <Form.Group className=\"col-4\">\n                        <Form.Label htmlFor=\"houseNumber\">Nr.: </Form.Label>\n                        <Form.Control\n                          type=\"text\"\n                          name=\"houseNumber\"\n                          id=\"houseNumber\"\n                          onChange={this.handleChange}\n                          value={this.state.houseNumber}\n                          required={true}\n                        />\n                      </Form.Group>\n                    </Row>\n\n                    <Row>\n                      <Form.Group className=\"col-5\">\n                        <Form.Label htmlFor=\"postalCode\">\n                          Postalcode:{\" \"}\n                        </Form.Label>\n                        <Form.Control\n                          type=\"number\"\n                          name=\"postalCode\"\n                          id=\"postalCode\"\n                          onChange={this.handleChange}\n                          value={this.state.postalCode}\n                          required={true}\n                          min=\"0\"\n                        />\n                      </Form.Group>\n                      <Form.Group className=\"col-6\">\n                        <Form.Label htmlFor=\"city\">City: </Form.Label>\n                        <Form.Control\n                          type=\"text\"\n                          name=\"city\"\n                          id=\"city\"\n                          onChange={this.handleChange}\n                          value={this.state.city}\n                          required={true}\n                        />\n                      </Form.Group>\n                    </Row>\n\n                    {this.state.error && (\n                      <Alert variant=\"danger\">{this.state.error}</Alert>\n                    )}\n\n                    <Button\n                      variant=\"outline-success\"\n                      type=\"submit\"\n                      className=\"mr-2\"\n                    >\n                      Save\n                    </Button>\n                    <Button\n                      variant=\"outline-danger\"\n                      onClick={this.cancelEditAddress}\n                    >\n                      Cancel\n                    </Button>\n                  </Form>\n                )}\n\n                {!this.state.showAddressForm && (\n                  <>\n                    <p className=\"mb-0\">\n                      {this.state.address.formattedAddress}\n                    </p>\n                    <p\n                      className=\"mb-0\"\n                      style={{ color: \"grey\", fontStyle: \"italic\" }}\n                    >\n                      * Only you can see your address\n                    </p>\n                  </>\n                )}\n              </>\n            )}\n\n            <h5\n              className=\"mt-md-4 profile-detail-subhead\"\n              style={{ color: \"grey\" }}\n            >\n              Credit:{\" \"}\n              <span style={{ color: \"black\" }}>{this.state.credits}</span>\n            </h5>\n          </Col>\n\n          <Col md={7} className=\"my-md-4\">\n            <h1>\n              {this.state.username}\n              &nbsp;&nbsp;\n              {!sameUser && (\n                <Link\n                  to={`/messenger/${this.state._id}`}\n                  className=\"btn btn-outline-info\"\n                  onClick={() => {\n                    this.props.setChatArea(true);\n                  }}\n                >\n                  {`\\u2709`} Message me\n                </Link>\n              )}\n            </h1>\n\n            <AboutMe\n              sameUser={sameUser}\n              user={this.props.user}\n              state={this.state}\n              toggleForm={this.toggleForm}\n              handleChange={this.handleChange}\n              cancelEditAboutMe={this.cancelEditAboutMe}\n              updateAboutMe={this.updateAboutMe}\n            />\n          </Col>\n\n          <Col md={5} id=\"lend-help-profile-box\">\n            <OfferStuff\n              sameUser={sameUser}\n              offerStuff={this.state.offerStuff}\n              showOfferStuffForm={this.state.showOfferStuffForm}\n              toggleForm={this.toggleForm}\n              handleChange={this.handleChange}\n              stuffInput={this.state.stuffInput}\n              handleSubmitOfferStuff={this.handleSubmitOfferStuff}\n              deleteStuff={this.deleteStuff}\n            />\n            <p className=\"mt-md-5\"></p>\n            <OfferService\n              sameUser={sameUser}\n              offerService={this.state.offerService}\n              showOfferServiceForm={this.state.showOfferServiceForm}\n              toggleForm={this.toggleForm}\n              handleChange={this.handleChange}\n              serviceInput={this.state.serviceInput}\n              handleSubmitOfferService={this.handleSubmitOfferService}\n              deleteService={this.deleteService}\n            />\n          </Col>\n          <Col md={7}>\n            <Reference\n              sameUser={sameUser}\n              user={this.props.user}\n              toggleForm={this.toggleForm}\n              handleChange={this.handleChange}\n              cancelEditReference={this.cancelEditReference}\n              addReference={this.addReference}\n              showReferenceForm={this.state.showReferenceForm}\n              showReferenceAlert={this.state.showReferenceAlert}\n              rating={this.state.rating}\n              referenceInput={this.state.referenceInput}\n              creditInput={this.state.creditInput}\n              reference={this.state.reference}\n              showNotEnoughCredit={this.state.showNotEnoughCredit}\n              showNeedtoWriteSth={this.state.showNeedtoWriteSth}\n              authorCredits={this.state.authorCredits}\n              profileOwner={this.state.username}\n              handleRefChange={this.handleRefChange}\n              handleCreditChange={this.handleCreditChange}\n              handleRatingChange={this.handleRatingChange}\n            />\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default ProfileDetails;\n","import React, { Component } from \"react\";\n\nexport default class Footer extends Component {\n  render() {\n    return (\n      <footer>\n        <p>\n          {`\\u24B8`} 2019 &nbsp;\n          <a\n            className=\"footer-link\"\n            rel=\"noopener noreferrer\"\n            href=\"https://www.linkedin.com/in/johanna-geissler/\"\n            target=\"_blank\"\n          >\n            <i className=\"fab fa-linkedin\"></i> Hanna Geißler\n          </a>\n          &nbsp;&nbsp;\n          <a\n            className=\"footer-link\"\n            rel=\"noopener noreferrer\"\n            href=\"https://www.linkedin.com/in/shanwong29/\"\n            target=\"_blank\"\n          >\n            <i className=\"fab fa-linkedin\"></i> Kam Shan Wong\n          </a>\n        </p>\n        <p>\n          Full code in our &nbsp;{\" \"}\n          <a\n            className=\"footer-link\"\n            rel=\"noopener noreferrer\"\n            href=\"https://github.com/shanwong29/Kiez\"\n            target=\"_blank\"\n          >\n            <i className=\"fab fa-github\"></i> Github Repository\n          </a>\n        </p>\n      </footer>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./components/Home\";\nimport AddEvent from \"./components/events/AddEvent\";\nimport EventDetails from \"./components/events/EventDetails\";\nimport SearchResult from \"./components/SearchResult\";\nimport Messenger from \"./components/Messenger\";\nimport Signup from \"./components/Signup\";\nimport Login from \"./components/Login\";\nimport ProfileDetails from \"./components/profiles/ProfileDetails\";\nimport Footer from \"./components/Footer\";\nimport axios from \"axios\";\n\nimport socketIOClient from \"socket.io-client\";\n\n// socket client for new messages\nconst endpoint = process.env.PORT; //socket\nconst socket = socketIOClient(endpoint);\n\nclass App extends React.Component {\n  state = {\n    user: this.props.user,\n    allUsers: [],\n    select: \"\",\n    searchInput: \"\",\n    selectInputfield: \"\",\n    searchInputfield: \"\",\n    showNewsfeed: true,\n    showMyEvents: false,\n    showEventsGoing: false,\n    showNextEvents: false,\n    // messenger\n    sender: this.props.user._id,\n    reciever: \"\",\n    chatMsg: [],\n    chatInput: \"\",\n    recieverAction: \"\",\n    showChatArea: false,\n  };\n\n  setChatArea = (setValue) => {\n    this.setState({ showChatArea: setValue });\n  };\n\n  handleChangeNav = (object) => {\n    this.setState(object);\n    this.getAllUser();\n  };\n\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  componentDidMount() {\n    socket.on(\"message\", (data) => {\n      this.getMsg();\n    });\n  }\n  getAllUser = () => {\n    axios\n      .get(\"/api/user\")\n      .then((response) => {\n        this.setState({\n          allUsers: response.data,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  getMsg = () => {\n    axios\n      .get(\"/api/chat/chat-msg\")\n      .then((response) => {\n        this.setState({\n          chatMsg: response.data,\n          chatInput: \"\",\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleChatInputSubmit = (e, recieverId) => {\n    e.preventDefault();\n    if (!this.state.chatInput) {\n      return;\n    }\n    axios\n      .post(\"/api/chat/chat-msg\", {\n        chatMsg: this.state.chatInput,\n        reciever: recieverId,\n      })\n      .then((res) => {\n        socket.send(res.data);\n        this.getMsg();\n      })\n\n      .catch((err) => console.log(err));\n  };\n\n  handleQuery = (e, history) => {\n    e.preventDefault();\n    if (!this.state.selectInputfield) {\n      return;\n    }\n    this.getAllUser();\n    this.setState({\n      searchInput: this.state.searchInputfield,\n      select: this.state.selectInputfield,\n    });\n\n    if (history) {\n      history.push(\"/search-result\");\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Route\n          render={(routerProps) => {\n            // console.log(routerProps);\n            return (\n              <Navbar\n                user={this.state.user}\n                clearUser={this.setUser}\n                select={this.state.select}\n                searchInput={this.state.searchInput}\n                selectInputfield={this.state.selectInputfield}\n                searchInputfield={this.state.searchInputfield}\n                handleChange={this.handleChange}\n                handleQuery={this.handleQuery}\n                getAllUser={this.getAllUser}\n                history={routerProps.history}\n                handleChangeNav={this.handleChangeNav}\n                showNewsfeed={this.state.showNewsfeed}\n                showMyEvents={this.state.showMyEvents}\n                showEventsGoing={this.state.showEventsGoing}\n                showNextEvents={this.state.showNextEvents}\n              />\n            );\n          }}\n        />\n\n        <Switch>\n          <Route\n            exact\n            path=\"/\" //it s Home Page\n            render={(props) => {\n              if (this.state.user) {\n                return (\n                  <Home\n                    {...props}\n                    user={this.state.user}\n                    state={this.state}\n                    showNewsfeed={this.state.showNewsfeed}\n                    showMyEvents={this.state.showMyEvents}\n                    showEventsGoing={this.state.showEventsGoing}\n                    showNextEvents={this.state.showNextEvents}\n                    handleChangeNav={this.handleChangeNav}\n                    getAllUser={this.getAllUser}\n                    getMsg={this.getMsg}\n                    chatMsg={this.state.chatMsg}\n                  />\n                );\n              } else {\n                return <Redirect to=\"/signup\" />;\n              }\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/search-result\"\n            render={(routerProps) => {\n              if (this.state.user) {\n                return (\n                  <SearchResult\n                    {...routerProps}\n                    user={this.state.user}\n                    allUsers={this.state.allUsers}\n                    select={this.state.select}\n                    searchInput={this.state.searchInput}\n                  />\n                );\n              } else {\n                return <Redirect to=\"/signup\" />;\n              }\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/messenger/:neighborId\"\n            render={(props) => {\n              if (this.state.user) {\n                return (\n                  <Messenger\n                    {...props}\n                    allUsers={this.state.allUsers}\n                    user={this.state.user}\n                    chatMsg={this.state.chatMsg}\n                    chatInput={this.state.chatInput}\n                    handleChange={this.handleChange}\n                    handleChatInputSubmit={this.handleChatInputSubmit}\n                    setRecieverAction={this.setRecieverAction}\n                    setChatArea={this.setChatArea}\n                    showChatArea={this.state.showChatArea}\n                    getMsg={this.getMsg}\n                  />\n                );\n              } else {\n                return <Redirect to=\"/signup\" />;\n              }\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/signup\"\n            render={(props) => <Signup {...props} setUser={this.setUser} />}\n          />\n          <Route\n            exact\n            path=\"/login\"\n            render={(props) => <Login {...props} setUser={this.setUser} />}\n          />\n\n          <Route\n            exact\n            path=\"/:username\"\n            render={(props) => {\n              if (this.state.user) {\n                return (\n                  <ProfileDetails\n                    {...props}\n                    user={this.state.user}\n                    allUsers={this.state.allUsers}\n                    setUser={this.setUser}\n                    setChatArea={this.setChatArea}\n                  />\n                );\n              } else {\n                return <Redirect to=\"/signup\" />;\n              }\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/events/create\"\n            render={(props) => {\n              if (this.state.user) {\n                return <AddEvent {...props} />;\n              } else {\n                return <Redirect to=\"/signup\" />;\n              }\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/events/:id\"\n            render={(props) => (\n              <EventDetails\n                {...props}\n                state={this.state}\n                user={this.state.user}\n                allUsers={this.state.allUsers}\n              />\n            )}\n          />\n        </Switch>\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\"; // npm install boostrap\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.get(\"/api/auth/loggedin\").then(response => {\n  const user = response.data;\n\n  ReactDOM.render(\n    <BrowserRouter>\n      <App user={user} />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}